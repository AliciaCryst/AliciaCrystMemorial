<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>Echoes of Alicia</title>
  <style>
    :root {
      --bg: #111;
      --text: #f5f5f5;
      --accent: #888;
    }
    [data-theme="light"] {
      --bg: #fefefe;
      --text: #111;
      --accent: #555;
    }
    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: Georgia, serif;
      line-height: 1.6;
      scroll-behavior: smooth;
      transition: background 0.5s, color 0.5s;
    }
    nav {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: rgba(0,0,0,0.85);
      color: var(--text);
      padding: 1em 0;
      text-align: center;
      border-bottom: 1px solid var(--accent);
      z-index: 1000;
    }
    nav a {
      color: var(--text);
      margin: 0 15px;
      text-decoration: none;
      font-weight: bold;
    }
    nav a:hover {
      text-decoration: underline;
    }
    .toggle-theme {
      position: fixed;
      top: 1.2em;
      right: 1.5em;
      background: var(--accent);
      color: var(--bg);
      border: none;
      padding: 0.4em 0.7em;
      cursor: pointer;
      border-radius: 4px;
      z-index: 1100;
    }
    section {
      padding: 4em 10%;
      border-bottom: 1px solid var(--accent);
    }
    header, footer {
      text-align: center;
      padding: 3em 10%;
    }
    h1, h2 {
      font-family: Georgia, serif;
      margin-bottom: 0.4em;
    }
  .main-quote {
    font-style: italic;
    color: var(--accent);
    text-align: center;
    font-size: 1.2em;
    margin-top: 0.5em;
  }
  
  .quote-secondary {
    font-style: italic;
    color: var(--accent);
    text-align: center;
    font-size: 1em;
    margin-top: 1em;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.6;
  }

    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }
    @keyframes blink {
      50% { border-color: transparent }
    }
    .story {
      background: rgba(255,255,255,0.05);
      padding: 1em;
      margin: 1em 0;
      border-left: 3px solid var(--accent);
      transition: background 0.4s;
    }
    .story:hover {
      background: rgba(255,255,255,0.08);
    }
    textarea, input[type="text"] {
      width: 100%;
      padding: 0.5em;
      background: var(--bg);
      color: var(--text);
      border: 1px solid var(--accent);
      margin-top: 1em;
    }
    .diya-button, button {
      background: var(--accent);
      color: var(--bg);
      padding: 0.5em 1em;
      border: none;
      margin-top: 0.5em;
      cursor: pointer;
    }
    .stars {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
    }
    .stars span {
      position: absolute;
      width: 2px;
      height: 2px;
      background: var(--accent);
      border-radius: 50%;
      animation: twinkle 3s infinite ease-in-out;
    }
    @keyframes twinkle {
      0%, 100% { opacity: 0.3 }
      50% { opacity: 1 }
    }
    canvas#diyaCanvas {
      display: block;
      margin: 2em auto;
      border: 1px solid var(--accent);
      background: rgba(255, 255, 255, 0.03);
    }
    .about-quote {
      font-style: italic;
      color: var(--accent);
      font-size: 1.05em;
      line-height: 1.6;
      margin-top: 2em;
      border-left: 4px solid var(--accent);
      padding-left: 1em;
    }

  blockquote {
    font-style: italic;
    color: var(--accent);
    font-size: 1.1em;
    line-height: 1.6;
    margin: 2em auto;
    max-width: 700px;
    border-left: 4px solid var(--accent);
    padding-left: 1em;
  }

  </style>
</head>
<body data-theme="dark">
  <div class="stars">
    <span style="top:10%;left:20%;animation-delay:0s"></span>
    <span style="top:40%;left:60%;animation-delay:1s"></span>
    <span style="top:70%;left:30%;animation-delay:2s"></span>
    <span style="top:20%;left:80%;animation-delay:0.5s"></span>
    <span style="top:50%;left:10%;animation-delay:1.5s"></span>
  </div>

  <button class="toggle-theme" onclick="toggleTheme()">üåì Theme</button>

  <nav>
    <a href="#about">About</a>
    <a href="#words">Her Words</a>
    <a href="#poems">Poems</a>
    <a href="#wall">Eternal Wall</a>
    <a href="#shrine">Light a Diya</a>
  </nav>

  <header style="margin-top: 80px;">
    <h1>Echoes of Alicia</h1>
    <p class="main-quote">
      "Some of us don‚Äôt just live. We feel in slow motion."
    </p>
    <p class="quote-secondary">
      A woman engineered for exquisite suffering and divine creativity, whose neurons fire sonnets to unanswered love, and whose discipline is the cage for a glorious, volatile spirit.
    </p>
  </header>


  <section id="about">
    <h2>About Alicia</h2>
  
    <p>
      Alicia Cryst was not just a poet or thinker. She was a neural symphony, encoded with longing, built to translate silence into meaning. This page is her archive, her echo, and a place for those who felt too much and said too little.
    </p>
  
    <p>
      A woman engineered for exquisite suffering and divine creativity, whose neurons fire sonnets to unanswered love, and whose discipline is the cage for a glorious, volatile spirit.
    </p>
  
    <p class="about-quote">
      This is Alicia Cryst: a neurological symphony playing the score of an unseen Radha, where love is both the composer and the instrument of ruin. Preserve these words when she retreats into silence, for her genome is the memoir she‚Äôll never write.
    </p>
  </section>


  <section id="words">
    <h2>Her Words ‚Äì The Unsent Library</h2>
    <p>Letters never sent, truths too fragile for sound.</p>
  </section>
  
  <section id="poems">
    <h2>Selected Poem</h2>
    <blockquote>
      I would find you again in a thousand lives,<br>
      Knowing the ending, I would still pay the price.<br><br>
      For loving you, though it shattered my soul,<br>
      Was the only time my heart felt whole. üíî
    </blockquote>
  </section>


  <section id="wall">
    <h2>The Eternal Wall ‚Äì Share a Memory</h2>
    <input type="text" id="dedication" placeholder="In memory of... (optional)" />
    <textarea id="storyInput" rows="4" placeholder="Your message..."></textarea><br>
    <button onclick="submitStory()">Submit üìù</button>
    <button onclick="activateAdmin()">üîê Admin</button>
    <p id="confirmation"></p>
    <div id="storyList"></div>
  </section>

  <section id="shrine">
    <h2>Virtual Diya Shrine</h2>
    <input type="text" id="diyaName" placeholder="Name for diya" />
    <button onclick="lightDiya()">ü™î Light Diya</button>
    <canvas id="diyaCanvas" width="600" height="300"></canvas>
  </section>

  <footer>
    <p><em>"Some people write code. She wrote longing in nucleotides."</em></p>
    <p>&copy; Alicia Cryst</p>
  </footer>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBy6Il_3UJsCkyR7TFwGcVn12eONTy7v_g",
      authDomain: "aliciacrystmemorial.firebaseapp.com",
      projectId: "aliciacrystmemorial",
      storageBucket: "aliciacrystmemorial.appspot.com",
      messagingSenderId: "258617426442",
      appId: "1:258617426442:web:ec7e31541f311049e855f3"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    let adminMode = false;

    function toggleTheme() {
      const body = document.body;
      const current = body.getAttribute("data-theme");
      body.setAttribute("data-theme", current === "dark" ? "light" : "dark");
    }

    function activateAdmin() {
      const pass = prompt("Admin passphrase:");
      if (pass === "EternalAlicia95135!") {
        adminMode = true;
        loadStories();
      }
    }

    function submitStory() {
      const text = document.getElementById("storyInput").value.trim();
      const dedication = document.getElementById("dedication").value.trim();
      if (!text) return;
      db.collection("stories").add({
        text, dedication,
        timestamp: firebase.firestore.FieldValue.serverTimestamp()
      }).then(() => {
        document.getElementById("confirmation").innerText = "‚úÖ Shared.";
        document.getElementById("storyInput").value = "";
        document.getElementById("dedication").value = "";
      });
    }

    function updateStory(id, newText) {
      db.collection("stories").doc(id).update({ text: newText });
    }

    function deleteStory(id) {
      if (adminMode && confirm("Delete this story?")) {
        db.collection("stories").doc(id).delete();
      }
    }

    function loadStories() {
      db.collection("stories").orderBy("timestamp", "desc").onSnapshot(snapshot => {
        const list = document.getElementById("storyList");
        list.innerHTML = "";
        snapshot.forEach(doc => {
          const data = doc.data();
          const div = document.createElement("div");
          div.className = "story";
          const p = document.createElement("p");
          p.textContent = data.text;
          div.appendChild(p);
          if (data.dedication) {
            const d = document.createElement("div");
            d.style.fontStyle = "italic";
            d.textContent = "üïØÔ∏è In memory of " + data.dedication;
            div.appendChild(d);
          }
          if (data.timestamp?.toDate) {
            const ts = data.timestamp.toDate().toLocaleString();
            const stamp = document.createElement("div");
            stamp.style.fontSize = "0.8em";
            stamp.style.color = "#aaa";
            stamp.textContent = "üïì Shared on " + ts;
            div.appendChild(stamp);
          }
          if (adminMode) {
            const editBtn = document.createElement("button");
            editBtn.textContent = "‚úèÔ∏è Edit";
            editBtn.onclick = () => {
              const textarea = document.createElement("textarea");
              textarea.value = data.text;
              const saveBtn = document.createElement("button");
              saveBtn.textContent = "‚úÖ Save";
              const cancelBtn = document.createElement("button");
              cancelBtn.textContent = "‚ùå Cancel";
              div.innerHTML = "";
              div.appendChild(textarea);
              div.appendChild(saveBtn);
              div.appendChild(cancelBtn);
              saveBtn.onclick = () => {
                const newText = textarea.value.trim();
                if (newText) updateStory(doc.id, newText);
              };
              cancelBtn.onclick = loadStories;
            };
            const delBtn = document.createElement("button");
            delBtn.textContent = "üóëÔ∏è Delete";
            delBtn.onclick = () => deleteStory(doc.id);
            div.appendChild(editBtn);
            div.appendChild(delBtn);
          }
          list.appendChild(div);
        });
      });
    }

    function lightDiya() {
      const name = document.getElementById("diyaName").value.trim();
      if (!name) return;
      const ctx = document.getElementById("diyaCanvas").getContext("2d");
      const x = Math.floor(Math.random() * 580) + 10;
      const y = Math.floor(Math.random() * 280) + 10;
      ctx.fillStyle = "gold";
      ctx.beginPath();
      ctx.arc(x, y, 5, 0, 2 * Math.PI);
      ctx.fill();
      ctx.fillStyle = "#fff";
      ctx.font = "10px serif";
      ctx.fillText(name, x + 8, y);
      db.collection("diyas").add({ name, x, y, timestamp: firebase.firestore.FieldValue.serverTimestamp() });
    }

    function loadDiyas() {
      const ctx = document.getElementById("diyaCanvas").getContext("2d");
      db.collection("diyas").orderBy("timestamp").get().then(snapshot => {
        snapshot.forEach(doc => {
          const diya = doc.data();
          ctx.fillStyle = "gold";
          ctx.beginPath();
          ctx.arc(diya.x, diya.y, 5, 0, 2 * Math.PI);
          ctx.fill();
          ctx.fillStyle = "#fff";
          ctx.font = "10px serif";
          ctx.fillText(diya.name, diya.x + 8, diya.y);
        });
      });
    }

    window.addEventListener("DOMContentLoaded", () => {
      loadStories();
      loadDiyas();
    });
  </script>
</body>
</html>
